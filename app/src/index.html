<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="assets/chess_piece_knight.ico" />
  <!-- https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP -->
  <!-- <meta http-equiv="Content-Security-Policy" content="default-src 'self'; script-src 'self'">
    <meta http-equiv="X-Content-Security-Policy" content="default-src 'self'; script-src 'self'"> -->

  <!-- CSS Librairies -->
  <link rel="stylesheet" href="chessboardjs/lib/chessboard.css">
  <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">

  <!-- CSS Files -->
  <link rel="stylesheet" href="css/golbal.css">
  <link rel="stylesheet" href="css/position.css">
  <link rel="stylesheet" href="css/button.css">
  <link rel="stylesheet" href="css/switch.css">
  <link rel="stylesheet" href="css/dropdown.css">
  <link rel="stylesheet" href="css/chessboard.css">

  <!-- JS Librairies -->
  <script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
  <script src="chessboardjs/website/js/jquery-3.4.1.min.js"></script>
  <script src="chessboardjs/lib/chessboard.js"></script>

  <title>Chess Opening</title>
</head>

<body>
  <!-- Sidebar -->
  <div class="w3-sidebar sidenav w3-bar-block">
    <!-- Modal create opening -->
    <div class="w3-container modal-container flex-center">
      <button onclick="document.getElementById('opening-modal').style.display='block'" id="open-modal"
        class="btn2 btn2-green">
        Create Opening
      </button>

      <div id="opening-modal" class="w3-modal">
        <div class="w3-modal-content">
          <header class="w3-container w3-teal">
            <span onclick="document.getElementById('opening-modal').style.display='none'"
              class="w3-button w3-display-topright">&times;</span>
            <h2>Create Opening</h2>
          </header>
          <div class="w3-container">
            <form class="w3-container form-container" method="POST">
              <!-- Title input -->
              <div>
                <label>Opening Title</label>
                <input class="w3-input w3-border w3-round" value="opening title" id="title-input" name="title-input"
                  type="text">
              </div>
              <div class="error-message flex-center" id="error-title"></div>

              <!-- Color switch -->
              <div class="modal-switch flex-align">
                <span>White</span>
                <label class="switch switch-color">
                  <input type="checkbox" id="piece-color" name="piece-color">
                  <span class="slider round"></span>
                </label>
                <span>Black</span>
              </div>

              <!-- Folder input -->
              <div>
                <label>Folder</label>
                <input class="w3-input w3-border w3-round" value="random folder" id="folder-input" name="folder-input"
                  type="text">
              </div>
              <div class="error-message flex-center" id="error-folder"></div>  
              <div class="dropdown">
                <button class="dropbtn" onclick="return false">Folders</button>
                <div id="dropdown-content" class="dropdown-content"></div>
              </div> 

              <!-- PGN input -->
              <div style="margin-top: 50px;">
                <label>Copy PGN from : <a target="_blank" href="https://lichess.org/analysis">lichess.org</a></label>
                <input class="w3-input w3-border w3-round" value="1. e4 e5 2. Nf3 Nc6 3. Bb5" id="pgn-input"
                  name="pgn-input" type="text">
              </div>
              <div class="error-message flex-center" id="error-pgn"></div>
            </form>

            <!-- Submit button -->
            <div class="action flex-center">
              <button id="submit-form" class="btn2 btn2-green">Create</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Openings explorer -->
    <div class="opening-explorer" id="opening-explorer">
      <p class="explorer-title">White Openings</p>

      <div id="explorer-white"></div>
      <p class="explorer-title">Black Openings</p>
      <div id="explorer-black"></div>
    </div>
  </div>


  <!-- Main page -->
  <div class="w3-container container">
    <h1 class="opening-title flex-center" id="opening-title">Opening title</h1>

    <div class="action flex-center">
      <button id="training-mode" class="btn2 btn2-grey">Training Mode</button>
      <button id="puzzle-mode" class="btn2 btn2-grey">Puzzle Mode</button>
    </div>

    <div class="board-container flex">
      <!-- Chess Board -->
      <div class="board" id="board"></div>

      <div class="moves-container">
        <!-- Move locations -->
        <span class="text-moves">Moves</span>
        <div class="moves" id="moves"></div>
      </div>
    </div>
    <div class="action flex-center">
      <button id="tip" class="btn2 btn2-blue btn-tip">Give Tip</button>
      <button id="reset" class="btn2 btn2-green">Reset Board</button>
    </div>
    <div class="action flex-center" id="move-status">
      PLAY A MOVE
    </div>

    <!-- PGN -->
    <div class="pgn-container">
      <div>Copy PGN in: <a target="_blank" href="https://lichess.org/analysis">lichess.org</a></div>
      <textarea class="png-area" id="png-area" name="pgn-input" type="text" readonly></textarea>
    </div>

    <!-- Delete opening -->
    <div class="action flex-center">
      <button id="delete" class="btn2 btn2-red">Delete Opening</button>
    </div>
  </div>


  <!-- Librairies -->
  <script src="chessboardjs/website/js/chess-0.10.2.min.js"></script>
  <script src="../node_modules/chess.js/chess.js"></script>

  <!-- JS files -->
  <script type="module" src="./js/controller.js"></script>
  <script type="module" src="./js/opening-modal.js"></script>
  <script src="./js/explorer.js"></script>

  <!-- Buy me a coffee -->
  <script data-name="BMC-Widget" data-cfasync="false" src="https://cdnjs.buymeacoffee.com/1.0.0/widget.prod.min.js" data-id="laurentvandelle" data-description="Support me on Buy me a coffee!" data-message="If you like my app and want to support me, I'd appreciate a coffee :)" data-color="#FF813F" data-position="Right" data-x_margin="18" data-y_margin="18"></script>
</body>

</html>
